containers:
  c1:
    image: anrg/swarmdag
    volumes: {"./build": "/tendermint:Z"}
    expose: [26656, 26657]
    ports:
      {26656: 26656, 26657: 26657}
    environment: 
      "ID": 0
      "LOG": "${LOG:-tendermint.log}"

    command: /bin/sleep 300000

  c2:
    image: anrg/swarmdag
    volumes: {"./build": "/tendermint:Z"}
    expose: [26656, 26657]
    # links:
    #   c1: master
    ports:
      {26656: 26656, 26657: 26657}
    environment: 
      "ID": 1
      "LOG": "${LOG:-tendermint.log}"
    command: /bin/sleep 300000

  c3:
    image: anrg/swarmdag
    volumes: {"./build": "/tendermint:Z"}
    expose: [26656, 26657]
    # links:
    #   c1: master
    ports:
      {26656: 26656, 26657: 26657}
    environment: 
      "ID": 2
      "LOG": "${LOG:-tendermint.log}"
    command: /bin/sleep 300000

  c4:
    image: anrg/swarmdag
    volumes: {"./build": "/tendermint:Z"}
    expose: [26656, 26657]
    # links:
    #   c1: master
    ports:
      {26656: 26656, 26657: 26657}
    environment: 
      "ID": 3
      "LOG": "${LOG:-tendermint.log}"
    command: /bin/sleep 300000

network:
  flaky: 30%
  slow: 75ms 100ms distribution normal